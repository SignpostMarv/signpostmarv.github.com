'use strict';(function(e){function b(a){if("undefined"==typeof a)a="1d";else if("string"!=typeof a)throw Error("Specification must be string.");if(!b.regex.test(a))throw Error("Specification not valid.");a=a.match(b.regex);var c=[],d=0,c=0;if(3>a.length||""==a[2]||"undefined"==typeof a[2])a[2]="+0";this.c=a[2][0];this.a=parseInt(a[2].substring(1),10);if("/"==this.c&&0==this.a)throw Error("Specification will divide by zero.");c=a[1].split("d");d=parseInt(c[0],10);0==c[1]&&(c[1]="6");c=parseInt(c[1],
10);if(2>c)throw Error("Die sides cannot be less than 2.");this.b=d;this.d=d*c}b.regex=/(\d+d\d*)\s*([\+\-\*\/]\d+)?/;b.prototype.f=function(){var a=Math.floor(Math.random()*(this.d-this.b+1))+this.b;switch(this.c){case "+":a+=this.a;break;case "-":a+=-1*this.a;break;case "*":1!=this.a&&(a*=this.a);break;case "/":1!=this.a&&(a/=this.a)}return a};b.prototype.e=function(a){if("number"!=typeof a&&"string"!=typeof a)throw Error("Parameter must be number or string.");if("string"==typeof a&&!/\d+/.test(a))throw Error("Parameter should be a parseable integer.");
"number"==(a==typeof a)&&Math.max(1,Math.floor(a));for(var c=[],b=0;b<a;++b)c.push(this.roll());return c};b.prototype={roll:b.prototype.f,multiRoll:b.prototype.e};e.diceRoll=b})(window);
